<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>Solicitud</title>
</head>
<body>
    <nav>
        <div class="nav-wrapper" id="navbarclass">
          <a class="brand-logo" [routerLink]="['/main']"> <img src="../../../assets/imagenes/medicine.png" width="50px" height="50px" class="logo"></a>
          <ul id="nav-mobile" class="right hide-on-med-and-down">
            <li><a (click)="changeDonadores()">Donadores</a></li>
            <li><a (click)="changePaciente()">Registro de pacientes</a></li>
            <li></li>
          </ul>
        </div>
      </nav>

    <main>
      

    <section class="table__body">
      <section class="table__header">
        <h1>Solicitudes</h1>
      </section>
        <table>
            <thead>
              <th>Idsolicitud</th>
              <th>Idbanco</th>
              <th>Fecha</th>
              <th>Estado</th>
              <th>Idhospital</th>
              <th>Numero de trabajador</th>
              <th>Acciones</th>
            </thead>
            <tbody>
              <tr class="active-row" *ngFor="let solicitud of solicitud">
                <td >{{solicitud.idsolicitud}}</td>
                <td >{{solicitud.idbanco}}</td>
                <td >{{solicitud.fecha}}</td>
                <td >{{solicitud.estado}}</td>
                <td >{{solicitud.idhospital}}</td>
                <td >{{solicitud.numero_trabajador}}</td>
                <td ><a (click)="eliminarSolicitud(solicitud.idsolicitud)"><i class="material-icons prefix">delete_forever</i></a>
                  <a (click)="visualizarSolicitud(solicitud.idsolicitud); preparar();"><i class="material-icons prefix">remove_red_eye</i></a>
                  <a (click)="preparar();"><i class="material-icons prefix">edit</i></a></td>
            </tr>
            </tbody>
            
        </table>
    </section>
    </main>
    <div id="mymodal" class="modal" >
      <div class="modal-dialog">
         <div class="modal-content">
         <div class="modal-header">
           <h4 class="modal-title">Informacion Donadores</h4>
           <a (click)="static()" class=" modal-action modal-close waves-effect waves-green btn-flat">Cerrar</a> 
         </div>
         <div class="modal-body">
          <div class="container" id="formulario">
            <div class="col-12">
              <label for="idbanco" class="form-label">Id del banco</label>
              <input  type="number" class="validate" id="idbanco" [(ngModel)]="solicitudes.idbanco" name="idbanco" >
            </div>
             <div class="col-6">
                <label for="fechasolicitud" class="form-label">Fecha de la solicitud</label>
                <input type="date"  class="validate" id="fechasolicitud" [(ngModel)]="solicitudes.fecha" name="fecha">
             </div>
              <div class=" col-6">
                  <label for="estadosolicitud" class="activate" >Estado de la solicitud</label>
                  <input  type="number" class="validate" id="estadosolicitud" [(ngModel)]="solicitudes.estado" name="estadosolicitud" >
              </div>
              <div class=" col s6">
                  <label for="idhospital" class="form-label">Id del hospital</label>
                  <input type="number" class="validate" id="idhospital" [(ngModel)]="solicitudes.idhospital" name="idhospital" >
              </div>
              <div class=" col s6">
                  <label for="trabajador" class="activate">Numero de trabajador</label>
                  <input  type="number" class="validate" id="trabajador" [(ngModel)]="solicitudes.numero_trabajador" name="trabajador" >
              </div>
          </div>
            <div class="buttonSelect">
              <a (click)="static()" class=" modal-action modal-close waves-effect waves-green btn-flat">Cerrar</a>  
             <input type="button" name="next" class=" modal-action modal-close waves-effect waves-green btn-flat" (click)="agregarSolicitud()" value="Agregar" />
             <input type="button" name="next" class=" modal-action modal-close waves-effect waves-green btn-flat" (click)="updateSolicitud()" value="Actualizar" />
            </div>
         </div>
         </div>
      </div>
     </div>
    
</body>
</html>